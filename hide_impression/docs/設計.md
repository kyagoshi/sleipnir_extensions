# hide_impression 設計ドキュメント

## 概要

小説家になろう・ノクターンノベルズの小説ページにおいて、感想欄（`class="p-new-impression"`）を非表示にするSleipnir Mobile拡張機能。

## 技術仕様

### ファイル構成

```
hide_impression/
├── hide_impression.slex.js  # 拡張機能本体
└── docs/
    ├── 仕様.md              # 機能仕様
    └── 設計.md              # 本ドキュメント
```

### メタデータ

| 項目 | 値 |
|------|-----|
| @name | Hide Impression |
| @name:ja | 感想非表示 |
| @author | keisuke-miyazaki |
| @description | Hides impression elements on Syosetu sites. |
| @description:ja | 小説家になろう・ノクターンノベルズの感想欄を非表示にします。 |
| @version | 0.1 |
| @require | api |

### 対象URL

| サイト | URLパターン |
|--------|-------------|
| 小説家になろう | `https://ncode.syosetu.com/*/*/` |
| ノクターンノベルズ | `https://novel18.syosetu.com/*/*/` |

## 実装方針

### 選定理由

| 方式 | メリット | デメリット | 採用 |
|------|----------|------------|------|
| CSS非表示 (`SLEX_addStyle`) | 軽量、安定、DOM操作不要 | 要素はDOM上に残る | ✓ |
| JavaScript削除 (jQuery) | 完全に要素を削除 | jQueryロード必要、重い | - |

### 使用API

- `SLEX_addStyle(str)`: CSSルールを追加するAPI
  - 必要な@require: `api`

### CSSルール

```css
.p-new-impression {
    display: none !important;
}
```

## 動作フロー

```
1. ページ読み込み完了
2. 拡張機能実行
3. SLEX_addStyle() でCSSルール追加
4. .p-new-impression 要素が非表示化
```

## 変更履歴

| バージョン | 日付 | 内容 |
|-----------|------|------|
| 0.1 | 2026-01-18 | 初期設計 |
